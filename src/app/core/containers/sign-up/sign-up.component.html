<div class="sign-up-container">
  <span class="title">Welcome to ILend!</span>
  <form [formGroup]="signUpForm" class="sign-up-form" (ngSubmit)="onSubmit()">
    <mat-form-field>
      <mat-label>Full Name</mat-label>
      <input
        required
        matInput
        formControlName="fullName"
        [errorStateMatcher]="matcher"
      />
      <mat-error *ngIf="signUpForm.get('fullName').hasError('required')">
        Full name is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Username</mat-label>
      <input
        required
        matInput
        formControlName="username"
        [errorStateMatcher]="matcher"
      />
      <mat-error *ngIf="signUpForm.get('username').hasError('required')">
        Username is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Password</mat-label>
      <input
        required
        matInput
        formControlName="password"
        [errorStateMatcher]="matcher"
        type="password"
      />
      <mat-error
        *ngIf="
          signUpForm.get('password').hasError('minlength') &&
          !signUpForm.get('password').hasError('required')
        "
      >
        Please enter a password with more then 6 letters
      </mat-error>
      <mat-error *ngIf="signUpForm.get('password').hasError('required')">
        Password is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Confirm Password</mat-label>
      <input
        required
        matInput
        formControlName="confirmPassword"
        [errorStateMatcher]="matcher"
        type="password"
      />
      <mat-error
        *ngIf="
          signUpForm.get('confirmPassword').hasError('mismatchPasswords') &&
          !signUpForm.get('confirmPassword').hasError('required')
        "
      >
        The passwords isn't identical
      </mat-error>
      <mat-error *ngIf="signUpForm.get('confirmPassword').hasError('required')">
        Confirm password is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Phone number</mat-label>
      <input
        required
        matInput
        formControlName="phone"
        [errorStateMatcher]="matcher"
      />
      <mat-error
        *ngIf="
          signUpForm.get('phone').hasError('pattern') &&
          !signUpForm.get('phone').hasError('required')
        "
      >
        Please enter a valid phone number
      </mat-error>
      <mat-error *ngIf="signUpForm.get('phone').hasError('required')">
        Phone number is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>City</mat-label>
      <input matInput required formControlName="city"/>
      <mat-error *ngIf="signUpForm.get('city').hasError('required')">
        City is <strong>required</strong>
      </mat-error>
    </mat-form-field>

    <div class="login-tip">
      Already have a user? <a routerLink="/">Login</a> now!
    </div>

    <app-button
      [text]="'Sign Up'"
      [type]="'submit'"
      [disabled]="signUpForm.invalid"
      matTooltip="{{
        signUpForm.invalid ? 'Fill all the required fields' : ''
      }}"
      [matTooltipPosition]="'above'"
    ></app-button>
  </form>

  <span class="sign-up-error-message">{{ signUpErrorMessage }}</span>
</div>
